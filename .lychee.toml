# Lychee link checker configuration
# https://github.com/lycheeverse/lychee

# Don't check the config file itself (regex patterns get parsed as URLs)
exclude_path = [".lychee.toml", "docs/.overrides/", "tests/fixtures/"]

# Exclude placeholder and example URLs
exclude = [
    '^https://example\.com',
    '^https://your-',
    '^https://pypi\.org/project/my-',
    '^https://codecov\.io/gh/your-',
    '^mailto:',
    # Localhost URLs (e.g. docs preview in CONTRIBUTING.md)
    '^http://localhost',
    # GitHub repo doesn't exist yet â€” remove these excludes after first push
    '^https://github\.com/detailobsessed/spm-search-mcp',
    '^https://detailobsessed\.github\.io/spm-search-mcp',
    '^https://docs\.github\.com/en/repositories',
]

# Exclude local/private addresses
exclude_all_private = true

# Don't check mail addresses
include_mail = false

# Accept common status codes
# 502: GitHub commit/release URLs transiently return Bad Gateway
accept = [200, 204, 301, 302, 403, 429, 502]

# Timeout per request
timeout = 30

# Max concurrent requests
max_concurrency = 16
